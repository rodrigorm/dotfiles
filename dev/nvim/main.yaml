depends:
  - aptitude
  - git
  - neovim
  - lazygit
  - nodejs

actions:
  - action: package.install
    list:
      - "fzf"
      - "luarocks"
      - "ripgrep"
      - "unzip"
    variants:
      - where: os.name == "macos"
        list:
          - "fzf"
          - "luarocks"
          - "ripgrep"
          - "unzip"

  - action: command.run
    command: rm
    args:
      - "-rf"
      - "{{ user.home_dir }}/.config/nvim"

  - action: command.run
    command: git
    args:
      - "clone"
      - "https://github.com/rodrigorm/nvim.git"
      - "{{ user.home_dir }}/.config/nvim"

  - action: command.run
    dir: "{{ user.home_dir }}/.config/nvim"
    command: git
    args:
      - "pull"
      - "origin"
      - "main"
